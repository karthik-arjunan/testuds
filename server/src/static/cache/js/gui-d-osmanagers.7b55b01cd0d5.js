// Generated by CoffeeScript 1.12.7
(function() {
  gui.osmanagers = new GuiElement(api.osmanagers, "osm");

  gui.osmanagers.link = function(event) {
    "use strict";
    var clearDetails;
    clearDetails = function() {
      return $("#detail-placeholder").addClass("hidden");
    };
    api.templates.get("osmanagers", function(tmpl) {
      gui.clearWorkspace();
      gui.appendToWorkspace(api.templates.evaluate(tmpl, {
        osmanagers: "osmanagers-placeholder",
        osmanager_info: "osmanagers-info-placeholder"
      }));
      gui.osmanagers.table({
        icon: 'osmanagers',
        container: "osmanagers-placeholder",
        rowSelect: "multi",
        onRefresh: function(tbl) {
          return clearDetails();
        },
        onRowDeselect: function(deselected, dtable) {
          if (dtable.rows({
            selected: true
          }).count() !== 1) {
            clearDetails();
          }
        },
        onRowSelect: function(selected) {
          if (selected.length > 1) {
            clearDetails();
            return;
          }
          clearDetails();
          $("#detail-placeholder").removeClass("hidden");
          $('#detail-placeholder a[href="#osmanagers-info-placeholder"]').tab('show');
          return gui.methods.typedShow(gui.osmanagers, selected[0], '#osmanagers-info-placeholder .well', gettext('Error accessing data'));
        },
        buttons: ["new", "edit", "delete", "xls", "permissions"],
        onNew: gui.methods.typedNew(gui.osmanagers, gettext("New OSManager"), gettext("OSManager creation error")),
        onEdit: gui.methods.typedEdit(gui.osmanagers, gettext("Edit OSManager"), gettext("OSManager saving error")),
        onDelete: gui.methods.del(gui.osmanagers, gettext("Delete OSManager"), gettext("OSManager deletion error"))
      });
    });
  };

}).call(this);
